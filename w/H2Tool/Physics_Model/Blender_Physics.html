<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <title>Physics Tags</title>


    <script src="../../../lib/jquery-3.2.1.slim.min.js"></script>
    <script src="../../../lib/bootstrap-4.0.0.min.js"></script>
    <script src="../../../lib/highlight-9.12.0.min.js"></script>
    <script src="../../../lib/bootbox-4.4.0.min.js"></script>

    <link rel="stylesheet" href="../../../lib/highlightjs-9.12.0.min.css">
    <link rel="stylesheet" href="../../../lib/bootstrap-4.0.0.min.css">
    <link rel="stylesheet" href="../../../lib/font-awesome-4.7.0.min.css">

    <link rel="stylesheet" href="../../../default.css">

    
    

</head>
    <body>

        <!-- Header Bar -->
        <header class="navbar navbar-light page-headbar">
            <button class="navbar-toggler page-togglesidebar" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="/">
                <!-- Project Name -->
                
            </a>
            <nav class="nav">
                <a class="nav-link" href="#" onclick="window.print();">Print</a>
                
            </nav>
        </header>

        <!-- Side Bar -->
        <aside class="page-sidebar">

            
            

            

            <ul class="tree-nav tree-root">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../home.html"><span>Home</span></a>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Blender Tutorial">
                    <label for="#nav-Blender Tutorial">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Blender Tutorial</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Instance Geometry Tutorial post 2.8.html"><span>Instance Geo 2.8</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Instance Geometry Tutorial pre 2.8.html"><span>Instance Geo 2.79</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Map Making Tutorial. post 2.8.html"><span>Map Making 2.8</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Map Making Tutorial. pre 2.8.html"><span>Map Making 2.79</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Environment\Blender Plugins.html"><span>Plugin Install</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-DAEConverter">
                    <label for="#nav-DAEConverter">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>DAEConverter</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../DAEConverter\Commands.html"><span>Commands</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-H2Codez Launcher">
                    <label for="#nav-H2Codez Launcher">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Codez Launcher</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2CodezLauncher\H2Config.html"><span>Config</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2CodezLauncher\Launcher Features.html"><span>Features</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-H2Guerilla">
                    <label for="#nav-H2Guerilla">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Guerilla</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Guerilla\Misc.html"><span>H2Guerilla Misc</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-H2Sapien">
                    <label for="#nav-H2Sapien">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Sapien</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Sapien\Misc.html"><span>H2Sapien Misc</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox"  id="#nav-H2Tool">
                    <label for="#nav-H2Tool">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Tool</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Extra_Commands.html"><span>Extra Commands</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\H2Tool_Links.html"><span>H2Tool Links</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Lightmapper.html"><span>Lightmapper</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Lightmapper_Setting_Specs.html"><span>Lightmapper Specs</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Misc.html"><span>H2Tool Misc</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Objects.html"><span>Object Tags</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Pathfinding.html"><span>Pathfinding</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Sounds.html"><span>Sounds</span></a>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Animations">
                    <label for="#nav-Animations">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Animations</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Animations\Animations.html"><span>Animation Graphs</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Animations\Animation_Importing_Guide.html"><span>Animation Importing</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Animations\JMA_File_Spec.html"><span>JMA File Spec</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Collision Model">
                    <label for="#nav-Collision Model">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Collision Model</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Collision_Model\3DS_Max_Collisions.html"><span>Collision 3DS Max</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Collision_Model\Blender_Collisions.html"><span>Collision Blender</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox"  id="#nav-Physics Model">
                    <label for="#nav-Physics Model">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Physics Model</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Physics_Model\3DS_Max_Physics.html"><span>Physics 3DS Max</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Physics_Model\Blender_Physics.html"><span>Physics Blender</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Render Model">
                    <label for="#nav-Render Model">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Render Model</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Render_Model\BSP_Conversion.html"><span>BSP Conversion</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Render_Model\DAE_Conversion.html"><span>DAE Conversion</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Render_Model\render_model.html"><span>Render Model</span></a>
                </li>
                </ul>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-HaloScript">
                    <label for="#nav-HaloScript">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>HaloScript</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Haloscript\intro.html"><span>Intro</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Haloscript\data_types.html"><span>Data Types</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Haloscript\type_casting.html"><span>Type Casting</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Install">
                    <label for="#nav-Install">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Install</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Install\DAEConverter.html"><span>DAEConverter</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Install\Installation.html"><span>H2Codez</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Misc Files">
                    <label for="#nav-Misc Files">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Misc Files</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Misc Files\Misc Files.html"><span>Misc Files</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Notes">
                    <label for="#nav-Notes">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Notes</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Notes\Notes.html"><span>Notes</span></a>
                </li>
                </ul>
                </li>
                
            </ul>

            
            
        </aside>

        <!-- MAIN PAGE CONTENT -->
        <section class="page-main">
            <div class="page-content">
                

    
    <div class="page-header">
        <h1 class="display-4">Physics Tags </h1>
        <p class="lead">Preparing JMS files for importing with H2Tool to create working physics_model tags.</p>
        <p>
            <span class="version">V</span>
            
            <img src="http://www.gravatar.com/avatar/585207db08475e9012646546d677fac4?s=100&amp;r=g&amp;d=retro" class="avatar" alt="General_101" title="General_101" />
            
            <small>last updated <span>6 months ago</span> on <span>2020/2/04</span></small>
        </p>

        
    </div>
    <br/>
    

    <div class="page-md">
        <p><a href="http://www.h2maps.net/Tools/PC/Export%20Scripts/Halo_Export.7z">Halo Export Scripts</a> -&gt; Export scripts for your 3D modeling software of choice.</p>
<p><a href="https://www.blender.org/">Blender Program</a> -&gt; The Blender modeling program itself.</p>
<p><a href="http://www.h2maps.net/Sources/H2EK%20Source/Manual/Physics/Hinge%20Example%202.8%20Blender.blend">Hinge End Example</a> -&gt; The Blender modeling program itself.</p>
<p>The JMS exporter for Blender has some physics functionality. It's a work in progress and we are working in Blender instead of the original 3DS Max tools so things may get a bit awkward here in order to make this fit in our
toolset. After you have installed the exporter in your Blender install then you should notice a new dropdown found in the object properties panel.</p>
<p><img alt="" src="assets/PhysicsImportingStep1.png" /></p>
<p>As you can see in the image above. From here you can select several object types so that the exporter knows how to handle your mesh as it outputs the data for it to the JMS file on export. The list below will explain the 
primitive types. All physics objects require the '$' symbol in order to be processed as physics objects.</p>
<h3 id="sphere">Sphere</h3>
<p>Spheres are a uniform scale object that is defined by the radius of the sphere. Uniform here being used to describe the scale being the same on all axis. The exporter however only uses the X axis to do the math it needs to do.</p>
<p><img alt="" src="assets/PhysicsImportingStep2.png" /></p>
<h3 id="box">Box</h3>
<p>Box objects are cube shaped objects that use extends to define the dimensions of the cube. This means that the dimensions of the cube gets it's values from the center out like a radius. The xyz axis is considered here for the
dimensions of the cube.</p>
<p><img alt="" src="assets/PhysicsImportingStep3.png" /></p>
<p>Have the origin of this object set to the center of geometry. Important to export these objects properly.</p>
<h3 id="capsules">Capsules</h3>
<p>Capsule objects are represented by cylinder objects in Blender. The full height of the object is taken from the Z axis and the radius is taken from the x. The X and Y axis should be uniform to get the best representation of the
object on how it would look ingame. The height of the capsule can't be less than the radius.</p>
<p><img alt="" src="assets/PhysicsImportingStep4.png" /></p>
<p>Make sure to have the origin of the object set to the center bottom of your cylinder object like the following image.</p>
<p><img alt="" src="assets/PhysicsImportingStep16.png" /></p>
<p>This is necessary since Halo 2 extends a pill from the bottom up.</p>
<h3 id="convex">Convex</h3>
<p>Convex objects take the vertices of the object to create a sort of bounding radius around the object you are generating. These objects have to be convex. Below we will give an example of a non convex object.</p>
<p><img alt="" src="assets/PhysicsImportingStep5.png" /></p>
<p>An object like this wouldn't allow you to pass through the empty section in this door frame. It would effectively be as if you had imported an object that looks like this.</p>
<p><img alt="" src="assets/PhysicsImportingStep6.png" /></p>
<p>Let's fix that by changing our mesh and having it be made up of separate convex mesh pieces. Such as how it is done below.</p>
<p><img alt="" src="assets/PhysicsImportingStep7.png" /></p>
<h3 id="hinge">Hinge</h3>
<p>Hinges in Blender are a bit more work. hinges can be used with either an objects or bones as parent though it will work better with an armature. Lets practice hinges by making a simple hatch like in Halo 3's Highground. Add 
two cubes for the hatch and for the frame our hatch is going to hang on to. Also add an empty arrows object from the mesh menu to be the hinge point. Position the objects in your scene so that it looks something like this.</p>
<p><img alt="" src="assets/PhysicsImportingStep8.png" /></p>
<p>Lets go over the objects we added to our scene here.</p>
<p><img alt="" src="assets/PhysicsImportingStep9.png" /></p>
<p>The armature. This object contains our bones that our objects will pivot around ingame. </p>
<p><img alt="" src="assets/PhysicsImportingStep10.png" /></p>
<p>The cube we edited to be our door. This door is set to use the b_pivot node as the parent for this object which will be used as the pivot point ingame.</p>
<p><img alt="" src="assets/PhysicsImportingStep11.png" /></p>
<p>The second cube we edited to be the frame for our door. This object will serve and an anchor point for the door by having the parent of b_root.</p>
<p><img alt="" src="assets/PhysicsImportingStep12.png" /></p>
<p>The empty arrows object that we added to serve as the hinge connection in the Blender physics engine.</p>
<p>These are the pieces that will serve us to complete our hinge door setup. Let's go over the specific settings needed to set up a hinge constraint. Start by selecting the door object and giving it a rigid body as seen here.</p>
<p><img alt="" src="assets/PhysicsImportingStep13.png" /></p>
<p>No specific changes are needed here. Lets now go over to the frame object we created and set up the same over there.</p>
<p><img alt="" src="assets/PhysicsImportingStep14.png" /></p>
<p>This time however you will uncheck the dynamic flag in the rigid body settings as you want this rigid body to remain still during physics simulation.</p>
<p>Now lets add a rigid body constraint to the empty arrows object we have here. There are a few settings we should mess with here.</p>
<p><img alt="" src="assets/PhysicsImportingStep15.png" /></p>
<p>After adding the constraint make sure to switch the constraint type from Fixed to Hinge. Once that is done you should notice a few new options appear in your properties panel. Under the objects dropdown be sure to select the 
two objects you are using in your hinge constraint. The first being the physics object in motion and the second being the anchor point our hinge will use for the physics object. So the first will be set to the Door object and
the second will be set to frame as seen in the image above.</p>
<p>The next thing you should look at should be the angular dropdown. This is the area where you can set how many degrees your physics object can move in each direction. This is important so don't forget this. Enable the Z angle 
flag and set the Z lower and upper values to the proper degrees for this object.</p>
<p>The final value you can set is a friction value in the anchor object. Under the dynamics dropdown for the anchor object you can change the value for damping translation to make the object move with less or more resistance.</p>
<h3 id="final-notes">Final Notes</h3>
<p>Other physics types in the JMS file are currently not supported. May come in the future.</p>
<p>Keep in mind that the node index definition in the JMS for physics object use what the parent of the object is set to and in the case of the armature then the bone that is set to be the parent. This is especially important for 
hinges as this is how it gets the nodes it needs for the hinge definition in the JMS.</p>
    </div>


            </div>
        </section>
    </body>

    <script type="text/javascript">

    $(document).ready(function() {

        // Sidebar functionality.
        $('.page-togglesidebar').click(function(){
            $('body').toggleClass('page-sidebar-closed')
        });

        // Apply code highlighting.
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });

        // Apply CSS to all tables.
        $('.page-md table').addClass('table thead-light table-hover');

        // Set images to lightbox.
        $('.page-md img').on('click', function(event) {
            var imgsrc = $(this).attr('src');
            bootbox.alert({
                message: '<img src="'+imgsrc+'" style="width:100%; height:auto;"></img>',
                backdrop: true,
                closeButton: false,
                size: 'large'
            });
        });
    });
    </script>


    
<script type="text/javascript">

    $(document).ready(function() {

        // // Apply CSS specific to a table in a *parts* heading.
        // $('.page-md #parts + table')
        //     .addClass('parts')
        // //     .addClass('table thead-light table-hover')
        // //     //.css('position', 'absolute')
        //     //.css('width', '60%');
    });

</script>


</html>