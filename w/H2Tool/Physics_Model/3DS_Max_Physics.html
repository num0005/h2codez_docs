<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <title>Physics Model Tags</title>


    <script src="../../../lib/jquery-3.2.1.slim.min.js"></script>
    <script src="../../../lib/bootstrap-4.0.0.min.js"></script>
    <script src="../../../lib/highlight-9.12.0.min.js"></script>
    <script src="../../../lib/bootbox-4.4.0.min.js"></script>

    <link rel="stylesheet" href="../../../lib/highlightjs-9.12.0.min.css">
    <link rel="stylesheet" href="../../../lib/bootstrap-4.0.0.min.css">
    <link rel="stylesheet" href="../../../lib/font-awesome-4.7.0.min.css">

    <link rel="stylesheet" href="../../../default.css">

    
    

</head>
    <body>

        <!-- Header Bar -->
        <header class="navbar navbar-light page-headbar">
            <button class="navbar-toggler page-togglesidebar" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="/">
                <!-- Project Name -->
                
            </a>
            <nav class="nav">
                <a class="nav-link" href="#" onclick="window.print();">Print</a>
                
            </nav>
        </header>

        <!-- Side Bar -->
        <aside class="page-sidebar">

            
            

            

            <ul class="tree-nav tree-root">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../home.html"><span>Home</span></a>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Blender Tutorial">
                    <label for="#nav-Blender Tutorial">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Blender Tutorial</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Instance Geometry Tutorial post 2.8.html"><span>Instance Geo 2.8</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Instance Geometry Tutorial pre 2.8.html"><span>Instance Geo 2.79</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Map Making Tutorial. post 2.8.html"><span>Map Making 2.8</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Map Making Tutorial. pre 2.8.html"><span>Map Making 2.79</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Blender Guides\Blender Environment\Blender Plugins.html"><span>Plugin Install</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-DAEConverter">
                    <label for="#nav-DAEConverter">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>DAEConverter</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../DAEConverter\Commands.html"><span>Commands</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-H2Codez Launcher">
                    <label for="#nav-H2Codez Launcher">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Codez Launcher</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2CodezLauncher\H2Config.html"><span>Config</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2CodezLauncher\Launcher Features.html"><span>Features</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-H2Guerilla">
                    <label for="#nav-H2Guerilla">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Guerilla</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Guerilla\Misc.html"><span>H2Guerilla Misc</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-H2Sapien">
                    <label for="#nav-H2Sapien">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Sapien</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Sapien\Misc.html"><span>H2Sapien Misc</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox"  id="#nav-H2Tool">
                    <label for="#nav-H2Tool">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>H2Tool</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Extra_Commands.html"><span>Extra Commands</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\H2Tool_Links.html"><span>H2Tool Links</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Lightmapper.html"><span>Lightmapper</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Lightmapper_Setting_Specs.html"><span>Lightmapper Specs</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Misc.html"><span>H2Tool Misc</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Objects.html"><span>Object Tags</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Pathfinding.html"><span>Pathfinding</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Sounds.html"><span>Sounds</span></a>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Animations">
                    <label for="#nav-Animations">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Animations</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Animations\Animations.html"><span>Animation Graphs</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Animations\Animation_Importing_Guide.html"><span>Animation Importing</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Animations\JMA_File_Spec.html"><span>JMA File Spec</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Collision Model">
                    <label for="#nav-Collision Model">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Collision Model</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Collision_Model\3DS_Max_Collisions.html"><span>Collision 3DS Max</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Collision_Model\Blender_Collisions.html"><span>Collision Blender</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox"  id="#nav-Physics Model">
                    <label for="#nav-Physics Model">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Physics Model</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Physics_Model\3DS_Max_Physics.html"><span>Physics 3DS Max</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Physics_Model\Blender_Physics.html"><span>Physics Blender</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Render Model">
                    <label for="#nav-Render Model">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Render Model</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Render_Model\BSP_Conversion.html"><span>BSP Conversion</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Render_Model\DAE_Conversion.html"><span>DAE Conversion</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../H2Tool\Render_Model\render_model.html"><span>Render Model</span></a>
                </li>
                </ul>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-HaloScript">
                    <label for="#nav-HaloScript">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>HaloScript</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Haloscript\intro.html"><span>Intro</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Haloscript\data_types.html"><span>Data Types</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Haloscript\type_casting.html"><span>Type Casting</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Install">
                    <label for="#nav-Install">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Install</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Install\DAEConverter.html"><span>DAEConverter</span></a>
                </li>
                

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Install\Installation.html"><span>H2Codez</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Misc Files">
                    <label for="#nav-Misc Files">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Misc Files</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Misc Files\Misc Files.html"><span>Misc Files</span></a>
                </li>
                </ul>
                </li>
                

                
                <li>
                    <input type="checkbox" checked id="#nav-Notes">
                    <label for="#nav-Notes">
                        <i class="tree-icon fa fa-fw fa-chevron-down"></i>
                        <span>Notes</span>
                    </label>
                    <ul class="tree-nav">

                
                <li class="tree-leaf">
                    
                        <i class="fa fa-circle-thin" aria-hidden="true"></i>
                    
                    <a href="../../Notes\Notes.html"><span>Notes</span></a>
                </li>
                </ul>
                </li>
                
            </ul>

            
            
        </aside>

        <!-- MAIN PAGE CONTENT -->
        <section class="page-main">
            <div class="page-content">
                

    
    <div class="page-header">
        <h1 class="display-4">Physics Model Tags </h1>
        <p class="lead">Preparing JMS files for importing with H2Tool to create working physics_model tags.</p>
        <p>
            <span class="version">V</span>
            
            <img src="http://www.gravatar.com/avatar/585207db08475e9012646546d677fac4?s=100&amp;r=g&amp;d=retro" class="avatar" alt="General_101" title="General_101" />
            
            <small>last updated <span>5 months ago</span> on <span>2020/02/19</span></small>
        </p>

        
    </div>
    <br/>
    

    <div class="page-md">
        <p>Physics model files are a bit more tricky. You will need to do a couple of things to set these up properly so begin by exporting two files. 
Our regular JMS file using the regular exporter and a second JMS file using the "shitty" exporter. Take the JMSv2 template from <a href="https://num0005.github.io/h2codez_docs/w/H2Tool/H2Tool_Links.html">H2Tool Links</a> and get ready to fill it in for your physics model. 
You will want to first fill out the node section. Go to your filled out JMS file and take the node from there. Should look something like this.</p>
<pre><code class="markdown">1
frame
-1
-1
0.000000    0.000000    0.000000    1.000000
0.000000    0.000000    0.000000
</code></pre>

<p>Convert it to this and place it in your node list</p>
<pre><code class="markdown">;### NODES ###
1
;   &lt;name&gt;
;   &lt;parent node index&gt;
;   &lt;default rotation &lt;i,j,k,w&gt;&gt;
;   &lt;default translation &lt;x,y,z&gt;&gt;

;NODE 0
b_frame
-1
0.0000000000    0.0000000000    0.0000000000    1.0000000000
0.0000000000    0.0000000000    0.0000000000
</code></pre>

<p>Notice how JMSv2 has 10 unit places instead of six unit places in the CE JMS file. This is actually important. H2Tool may have issues parsing the info if it does not use this length for the values. Just adding more zeros at the end will do.
Now you want to assign a material with a region and permutation. Begin by adding this to your template.</p>
<pre><code class="markdown">;### MATERIALS ###
1
;   &lt;name&gt;
;   &lt;material name&gt;

;MATERIAL 0
(global material name)
(permutation) (region)
</code></pre>

<p>Physics don't use shaders for their material names. They instead use material effects. Pick something you like.</p>
<pre><code class="markdown">;### MATERIALS ###
1
;   &lt;name&gt;
;   &lt;material name&gt;

;MATERIAL 0
hard_metal_thick_hum
base default
</code></pre>

<p>Now that you have your materials and nodes setup lets decide on what type of mesh we want for our physics file to be.</p>
<h3 id="sphere">Sphere</h3>
<p>Lets say we want a sphere based collision. Lets fill out the sphere section in our JMS file. In order to figure out what radius our sphere will be you can create a UV sphere in Blender and scale it to what you want to cover the model.
Be sure that the scale is uniform since spheres only take radius. Now to get the radius of our sphere you will want to take the value of a dimension and divide it by half. This will give you the value for radius.</p>
<pre><code class="markdown">;### SPHERES ###
0
;   &lt;name of object&gt;
;   &lt;node index starting from 0&gt;
;   &lt;material index starting from 0&gt;
;   &lt;rotation &lt;i,j,k,w&gt;&gt;
;   &lt;translation &lt;x,y,z&gt;&gt;
;   &lt;radius&gt;

;SPHERE 0
phy_test
0
0
0.0000000000    0.0000000000    0.0000000000    1.0000000000
0.0000000000    0.0000000000    0.0000000000
10
</code></pre>

<p>An example of what you should end up with.</p>
<h3 id="box">Box</h3>
<p>A box is pretty simple. Go to Blender and make a cube shaped mesh. Form it until it covers the model you are attempting to make a physics model for. The scale doesn't have to be uniform for this. Once it is done take the dimensions
of the model and use the XYZ of the model as your XYZ for the JMS file.</p>
<pre><code class="markdown">;### BOXES ###
1
;   &lt;name&gt;
;   &lt;parent&gt;
;   &lt;material&gt;
;   &lt;rotation &lt;i,j,k,w&gt;&gt;
;   &lt;translation &lt;x,y,z&gt;&gt;
;   &lt;width (x)&gt;
;   &lt;length (y)&gt;
;   &lt;height (z)&gt;

;BOX 0
phy_test
0
0
0.0000000000    0.0000000000    0.0000000000    1.0000000000
0.0000000000    0.0000000000    0.0000000000
10
10
10
</code></pre>

<h3 id="capsules">Capsules</h3>
<p>Take a cylinder and keep the X and Y uniform. The Z can be changed however you want. Take the Z as height and take either the X or Y halved as your radius.</p>
<pre><code class="markdown">;### CAPSULES ###
1
;   &lt;name&gt;
;   &lt;parent&gt;
;   &lt;material&gt;
;   &lt;rotation &lt;i,j,k,w&gt;&gt;
;   &lt;translation &lt;x,y,z&gt;&gt;
;   &lt;height&gt;
;   &lt;radius&gt;

;CAPSULE 0
phy_test
0
0
0.0000000000    0.0000000000    0.0000000000    1.0000000000
0.0000000000    0.0000000000    0.0000000000
10
10
</code></pre>

<h3 id="convex">Convex</h3>
<p>Use the "shitty" exporter for this part. You should see a vertex count along with a ton of vertex translations.</p>
<pre><code class="markdown">20298
-25.17850097136 -10.93558594447 1.883197579523
-27.11733181272 -10.73211953932 2.356396971319
-24.86580137328 -8.290422677639 1.291731673068
11.59661842818  -23.82216938133 105.8638305997
14.97394742063  -22.87263726843 104.0894662136
11.97188461252  -24.29693543778 105.9821971142
-22.34400461455 -8.462422456568 104.3313659027
-21.94563845990 -9.118888279478 106.3428633173
-21.89797185450 -8.365689247566 117.0702828627
-26.99223197351 2.764929779565  11.34675208267
-23.67920289841 3.494695508262  6.549091582442
-23.61610297952 4.087728079370  6.548391583341
-13.79571560168 10.63251966734  40.68371437582
</code></pre>

<p>Should look like this. In order to use this data in our physics model we need to create a convex collision. Fill out this part of the template.</p>
<pre><code class="markdown">;### CONVEX SHAPES ###
1
;   &lt;name&gt;
;   &lt;parent&gt;
;   &lt;material&gt;
;   &lt;rotation &lt;i,j,k,w&gt;&gt;
;   &lt;translation &lt;x,y,z&gt;&gt;
;   &lt;vertex count&gt;
;   &lt;...vertices&gt;

;CONVEX SHAPE 0
(object name)
0
0
0.0000000000    0.0000000000    0.0000000000    1.0000000000
0.0000000000    0.0000000000    0.0000000000
(vertex count)
(vertex list)
</code></pre>

<p>Create a convex shape entry in the list as ;CONVEX SHAPE # and give it a name. Parent is the index of the node you are referencing as it it is in the node list. So if l_thigh is the third node listed in your JMSv2 file then parent will be written as 3.</p>
<pre><code class="markdown">(object name)
1
0
</code></pre>

<p>The material index will depend on what effect you want for that object. Again this is based on the order that it is listed in for the JMSv2 File. The next part is a bit annoying. Basically what this part is is the centroid of the object that you are exporting. 
So while frame is at 0 0 0 our physics object may bee 3 units above frame so you would type 0 0 3 for the physics object for it's placement in relation to frame. 
I personally change the location of frame to reflect location of the head of the bone the object is tied to then move frame to 0 0 0 with the object attached.
The final thing to do after this is formatting. Make sure that the files encoding is UCS-2 LE BOM. Ensure that all spaces are converted to tabs as spaces will cause H2Tool to freak out. The file should be ready after this.
You can use the tag extractor with extract import info to look at some of the physics_model.JMS files to get a good idea of what a JMSv2 file would want.</p>
    </div>


            </div>
        </section>
    </body>

    <script type="text/javascript">

    $(document).ready(function() {

        // Sidebar functionality.
        $('.page-togglesidebar').click(function(){
            $('body').toggleClass('page-sidebar-closed')
        });

        // Apply code highlighting.
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });

        // Apply CSS to all tables.
        $('.page-md table').addClass('table thead-light table-hover');

        // Set images to lightbox.
        $('.page-md img').on('click', function(event) {
            var imgsrc = $(this).attr('src');
            bootbox.alert({
                message: '<img src="'+imgsrc+'" style="width:100%; height:auto;"></img>',
                backdrop: true,
                closeButton: false,
                size: 'large'
            });
        });
    });
    </script>


    
<script type="text/javascript">

    $(document).ready(function() {

        // // Apply CSS specific to a table in a *parts* heading.
        // $('.page-md #parts + table')
        //     .addClass('parts')
        // //     .addClass('table thead-light table-hover')
        // //     //.css('position', 'absolute')
        //     //.css('width', '60%');
    });

</script>


</html>